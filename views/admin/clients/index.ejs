<div class="admin-toolbar">
    <form class="filter-form" method="GET" action="/admin/clients">
        <input type="text" name="search" value="<%= search %>" placeholder="Rechercher un client..." class="search-input">
        <button type="submit" class="btn btn-sm">Rechercher</button>
        <% if (search) { %>
        <a href="/admin/clients" class="btn btn-sm">Effacer</a>
        <% } %>
    </form>
</div>

<% if (clients.length === 0) { %>
<p class="empty-state">Aucun client trouvé.</p>
<% } else { %>
<div class="table-responsive">
    <table class="admin-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Nom</th>
                <th>Téléphone</th>
                <th>Email</th>
                <th>Total RDV</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% clients.forEach(c => { %>
            <tr>
                <td><%= c.id %></td>
                <td><strong><%= c.first_name %> <%= c.last_name %></strong></td>
                <td><%= maskPhone(c.phone) %></td>
                <td><%= c.email ? maskEmail(c.email) : '-' %></td>
                <td><%= c.total_bookings %></td>
                <td>
                    <a href="/admin/clients/<%= c.id %>" class="btn btn-sm">Voir</a>
                </td>
            </tr>
            <% }) %>
        </tbody>
    </table>
</div>

<% if (pagination.totalPages > 1) { %>
<div class="pagination" style="display:flex;gap:8px;justify-content:center;align-items:center;margin:24px 0;">
    <% if (pagination.currentPage > 1) { %>
    <a href="/admin/clients?page=<%= pagination.currentPage - 1 %><%= search ? '&search=' + encodeURIComponent(search) : '' %>" class="btn btn-sm">&laquo; Préc.</a>
    <% } %>
    <span>Page <%= pagination.currentPage %> / <%= pagination.totalPages %> (<%= pagination.total %> clients)</span>
    <% if (pagination.currentPage < pagination.totalPages) { %>
    <a href="/admin/clients?page=<%= pagination.currentPage + 1 %><%= search ? '&search=' + encodeURIComponent(search) : '' %>" class="btn btn-sm">Suiv. &raquo;</a>
    <% } %>
</div>
<% } %>

<% } %>
